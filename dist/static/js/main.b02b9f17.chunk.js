(this.webpackJsonpreact_ui=this.webpackJsonpreact_ui||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),a=n(23),c=n.n(a),i=(n(54),n(55),n(11)),o=n(1),l=r.a.createContext();function d(e){var t=e.children,n=Object(s.useState)(null),r=Object(i.a)(n,2),a={map:r[0],setMapFly:r[1]};return Object(o.jsx)(l.Provider,{value:a,children:t})}function u(){var e=Object(s.useContext)(l);if(void 0===e)throw new Error("useMap must be used within a MapProvider");return e}var j=n(43),m=n(44),b=n(48),h=n(46),g=n(94),x=n(97),f=n(95),O=n(96),p=n(3),v=n.n(p),w=n.p+"static/media/Light_Blue_Circle.1630ed52.svg",C=new v.a.Icon({iconUrl:w,iconSize:[20,20]});var N=function(e){var t=e.markerInfo,n=u().setMapFly;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{style:{height:"50%",width:"100%",display:"flex",flexDirection:"column"},children:Object(o.jsxs)(g.a,{doubleClickZoom:!1,id:"mapId",zoom:0,center:[241,250],crs:p.CRS.Simple,whenCreated:function(e){return n(e)},children:[Object(o.jsx)(x.a,{url:"https://i.imgur.com/kbgtLlk.png",bounds:[[0,0],[482.5,500]]}),Object(o.jsx)(f.a,{icon:C,position:[50,330],children:Object(o.jsx)(O.a,{children:"Beacon 1"})}),Object(o.jsx)(f.a,{icon:C,position:[325,300],children:Object(o.jsx)(O.a,{children:"Beacon 2"})}),Object(o.jsx)(f.a,{icon:C,position:[250,400],children:Object(o.jsx)(O.a,{children:"Beacon 3"})}),t.map((function(e){return Object(o.jsx)(f.a,{position:e.posCoords,children:Object(o.jsx)(O.a,{children:e.ID})},e.ID)}))]})}),Object(o.jsx)("div",{style:{flexDirection:"column",width:"100px",margin:"auto",textAlign:"center"}})]})},y=n(2),S=n(47),k=n(13),F=n(16),P=n(12);function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var M=["children","className"],D=["children","className"];function I(e){var t=e.children,n=e.className,s=Object(P.a)(e,M);return Object(o.jsx)("button",Object(y.a)(Object(y.a)({type:"button",className:R("relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",n)},s),{},{children:t}))}function T(e){var t=e.children,n=e.className,s=Object(P.a)(e,D);return Object(o.jsx)("button",Object(y.a)(Object(y.a)({type:"button",className:R("relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",n)},s),{},{children:t}))}function L(e){var t=e.className;return Object(o.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"})})}function B(e){var t=e.className;return Object(o.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"})})}function z(e){var t=e.className;return Object(o.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"})})}function E(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,s=e.setGlobalFilter,a=t.length,c=r.a.useState(n),l=Object(i.a)(c,2),d=l[0],u=l[1],j=Object(k.useAsyncDebounce)((function(e){s(e||void 0)}),200);return Object(o.jsxs)("label",{className:"flex gap-x-2 items-baseline",children:[Object(o.jsx)("span",{className:"text-gray-700",children:"Search: "}),Object(o.jsx)("input",{type:"text",class:"mt-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:d||"",onChange:function(e){u(e.target.value),j(e.target.value)},placeholder:"".concat(a," records...")})]})}function G(e){var t=e.column,n=t.filterValue,s=t.setFilter,a=t.preFilteredRows,c=t.id,i=t.render,l=r.a.useMemo((function(){var e=new Set;return a.forEach((function(t){e.add(t.values[c])})),Object(S.a)(e.values())}),[c,a]);return Object(o.jsxs)("label",{className:"flex gap-x-2 items-baseline",children:[Object(o.jsxs)("span",{className:"text-gray-700",children:[i("Header"),": "]}),Object(o.jsxs)("select",{className:"mt-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",name:c,id:c,value:n,onChange:function(e){s(e.target.value||void 0)},children:[Object(o.jsx)("option",{value:"",children:"All"}),l.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))]})]})}function H(e){var t=e.column,n=e.row,s=u().map;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("button",{onClick:function(){return window.scrollTo({top:0,behavior:"smooth"}),void s.flyTo(n.original[t.posAccessor])},children:Object(o.jsx)(F.e,{className:"h-5 w-5","aria-hidden":"true"})})})}var A=function(e){var t=e.columns,n=e.data,s=Object(k.useTable)({columns:t,data:n},k.useFilters,k.useGlobalFilter,k.useSortBy,k.usePagination),r=s.getTableProps,a=s.getTableBodyProps,c=s.headerGroups,i=s.prepareRow,l=s.page,d=s.canPreviousPage,u=s.canNextPage,j=s.pageOptions,m=s.pageCount,b=s.gotoPage,h=s.nextPage,g=s.previousPage,x=s.setPageSize,f=s.state,O=s.preGlobalFilteredRows,p=s.setGlobalFilter;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(E,{preGlobalFilteredRows:O,globalFilter:f.globalFilter,setGlobalFilter:p}),c.map((function(e){return e.headers.map((function(e){return e.Filter?Object(o.jsx)("div",{children:e.render("Filter")},e.id):null}))})),Object(o.jsx)("div",{className:"mt-2 flex flex-col",children:Object(o.jsx)("div",{className:"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8",children:Object(o.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(o.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(o.jsxs)("table",Object(y.a)(Object(y.a)({},r()),{},{className:"min-w-full divide-y divide-gray-200",children:[Object(o.jsx)("thead",{className:"bg-gray-50",children:c.map((function(e){return Object(o.jsx)("tr",Object(y.a)(Object(y.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(o.jsx)("th",Object(y.a)(Object(y.a)({scope:"col",className:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(o.jsxs)("div",{className:"flex items-center justify-between",children:[e.render("Header"),Object(o.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(o.jsx)(z,{className:"w-4 h-4 text-gray-400"}):Object(o.jsx)(B,{className:"w-4 h-4 text-gray-400"}):Object(o.jsx)(L,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100"})})]})}))}))}))}))}),Object(o.jsx)("tbody",Object(y.a)(Object(y.a)({},a()),{},{className:"bg-white divide-y divide-gray-200",children:l.map((function(e,t){return i(e),Object(o.jsx)("tr",Object(y.a)(Object(y.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(o.jsx)("td",Object(y.a)(Object(y.a)({},e.getCellProps()),{},{className:"px-6 py-4 whitespace-nowrap",children:e.render("Cell")}))}))}))}))}))]}))})})})}),Object(o.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[Object(o.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[Object(o.jsx)(I,{onClick:function(){return g()},disabled:!d,children:"Previous"}),Object(o.jsx)(I,{onClick:function(){return h()},disabled:!u,children:"Next"})]}),Object(o.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(o.jsxs)("div",{className:"flex gap-x-2",children:[Object(o.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",Object(o.jsx)("span",{className:"font-medium",children:f.pageIndex+1})," of"," ",Object(o.jsx)("span",{className:"font-medium",children:j.length})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("span",{className:"sr-only",children:"Items Per Page"}),Object(o.jsx)("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:f.pageSize,onChange:function(e){x(Number(e.target.value))},children:[5,10,20].map((function(e){return Object(o.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]}),Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[Object(o.jsxs)(T,{className:"rounded-l-md",onClick:function(){return b(0)},disabled:!d,children:[Object(o.jsx)("span",{className:"sr-only",children:"First"}),Object(o.jsx)(F.a,{className:"h-5 w-5","aria-hidden":"true"})]}),Object(o.jsxs)(T,{onClick:function(){return g()},disabled:!d,children:[Object(o.jsx)("span",{className:"sr-only",children:"Previous"}),Object(o.jsx)(F.c,{className:"h-5 w-5","aria-hidden":"true"})]}),Object(o.jsxs)(T,{onClick:function(){return h()},disabled:!u,children:[Object(o.jsx)("span",{className:"sr-only",children:"Next"}),Object(o.jsx)(F.d,{className:"h-5 w-5","aria-hidden":"true"})]}),Object(o.jsxs)(T,{className:"rounded-r-md",onClick:function(){return b(m-1)},disabled:!u,children:[Object(o.jsx)("span",{className:"sr-only",children:"Last"}),Object(o.jsx)(F.b,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})};function U(e){var t=e.markerInfo,n=r.a.useMemo((function(){return[{Header:"ID",accessor:"ID"},{Header:"Equipment",accessor:"equipment",Filter:G,filter:"includes"},{Header:"Next Maintainance Date",accessor:"maintainenceDue"},{Header:"Locate",Cell:H,posAccessor:"posCoords"}]}),[]);return Object(o.jsx)("div",{className:"min-h-screen bg-gray-100 text-gray-900",children:Object(o.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:[Object(o.jsx)("div",{className:"",children:Object(o.jsx)("h1",{className:"text-xl font-semibold",children:"Find Transmitters"})}),Object(o.jsx)("div",{className:"mt-4",children:Object(o.jsx)(A,{columns:n,data:t})})]})})}var _=n(4),W=n.n(_),q=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(j.a)(this,n),s=t.call(this,e),W.a.start(),s.state={feVersion:W.a.get("version"),socketConnectedState:!1,serverTimeOffset:"[unknown]",msgRecvd:{payload:[]},msgsReceived:0,msgCtrl:"[Nothing]",msgsControl:0,msgSent:"[Nothing]",msgsSent:0,msgCtrlSent:"[Nothing]",msgsCtrlSent:0},W.a.onChange("msg",(function(e){s.setState({msgRecvd:e}),console.info("[uibuilder.onChange] msg received from Node-RED server:",e)})),W.a.onChange("msgsReceived",(function(e){console.info("[uibuilder.onChange] Updated count of received msgs:",e),s.setState({msgsReceived:e})})),W.a.onChange("ctrlMsg",(function(e){console.info("[uibuilder.onChange:ctrlMsg] CONTROL msg received from Node-RED server:",e),s.setState({msgCtrl:e})})),W.a.onChange("msgsCtrl",(function(e){console.info("[uibuilder.onChange:msgsCtrl] Updated count of received CONTROL msgs:",e),s.setState({msgsControl:e})})),W.a.onChange("sentMsg",(function(e){console.info("[uibuilder.onChange:sentMsg] msg sent to Node-RED server:",e),s.setState({msgSent:e})})),W.a.onChange("msgsSent",(function(e){console.info("[uibuilder.onChange:msgsSent] Updated count of msgs sent:",e),s.setState({msgsSent:e})})),W.a.onChange("sentCtrlMsg",(function(e){console.info("[uibuilder.onChange:sentCtrlMsg] Control message sent to Node-RED server:",e),s.setState({msgCtrlSent:e})})),W.a.onChange("msgsSentCtrl",(function(e){console.info("[uibuilder.onChange:msgsSentCtrl] Updated count of CONTROL msgs sent:",e),s.setState({msgsCtrlSent:e})})),W.a.onChange("ioConnected",(function(e){console.info("[uibuilder.onChange:ioConnected] Socket.IO Connection Status Changed to:",e),s.setState({socketConnectedState:e})})),W.a.onChange("serverTimeOffset",(function(e){console.info("[uibuilder.onChange:serverTimeOffset] Offset of time between the browser and the server has changed to:",e),s.setState({serverTimeOffset:e})})),window.setTimeout((function(){console.info("Sending a message back to Node-RED-after2sdelay"),W.a.send({topic:"uibuilderfe",payload:"I am a message sent from the uibuilder front end"})}),2e3),s}return Object(m.a)(n,[{key:"render",value:function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(N,{markerInfo:this.state.msgRecvd.payload}),Object(o.jsx)(U,{markerInfo:this.state.msgRecvd.payload})]})}}]),n}(s.Component);function J(){return Object(o.jsx)("div",{className:"App",style:{height:"100%"},children:Object(o.jsx)(d,{children:Object(o.jsx)(q,{})})})}var V=document.getElementById("root");c.a.render(Object(o.jsx)(s.StrictMode,{children:Object(o.jsx)(J,{})}),V)}},[[92,1,2]]]);
//# sourceMappingURL=main.b02b9f17.chunk.js.map